import time
import json
from openai import OpenAI
api_key = ""#Your openai API key

client = OpenAI(api_key=api_key)


def load_data(file_path):
    with open(file_path, 'r', encoding='utf-8') as file:
        data = file.readlines()
    return data


def save_answer(content, file_path):
    with open(file_path, 'a', encoding='utf-8') as f:
        f.write(content + '\n')

def process_data(data, start_line, batch_size=1):
    for i in range(start_line, len(data), batch_size):
        messages = []
        for j in range(i, min(i + batch_size, len(data))):
            json_content = data[j].strip()
            print(json_content)
            messages.append({"role": "user", "content": json_content})

        response = client.chat.completions.create(
            model="gpt-4o",
            messages=[
                         {"role": "system",
                          "content":  "请根据提供的json根据文本内容“text”以及标注好的“entity”进行关系的提取。\n2关系抽取\n请根据“text”和“entity”的偏移量的具体内容，\n请根据以下关系标签进行实体之间的关系的提取。\n关系标签：\n1.包含：属性（层级）功能（解释）“矿床实例”——>(包含)——>“矿石类型”等表示“包含”，“含有”等\n2.有：“有”主要标注“图表”“公式”这些标签。\n3.为：数值的赋予，属性的赋予，特点的赋予。\n例\n另一类为过饱和含子晶包裹体(OS型)，这类包裹体在加热过程中，气泡先消失，由子晶消失达到最终均一状态，为过饱和流体形成，较前者发育较少，大小为6~12μm, 气/液比10%～25%。\n\n\"10%～25%\"——>“为”——>\"过饱和含子晶包裹体(OS型)\"\n\"6~12μm\"——>“为”——>\"过饱和含子晶包裹体(OS型)\"\n\n4.用：用什么方式方法。\n5.具有：具有特定的“特点”，“异常”，“趋势、数据分布、程度，顺序”等。\n6.成因：原因为起始标注头，之后用成因，与具体实体相连。\n7.形成：强调形成原因，与成因相似\n8.导致：同上\n9.总结：“人员”总结..等\n10.推测/预测：根据特点“推测”···\n11.可能：文中有“可能”进行标注\n12.根据···：根据观点，情况实验状况等，取代文中的“结合”，“观察”等\n13.认为：作者认为\n14.说明：表明，阐述了..\n15.影响:文中有“影响相关表述”\n16.结果表明:强调结果的表明\n17.刻画了，反映了：“刻画了”“反映了”\n18.来源于：文中“源自”“来源”等\n19.对：“针对”看前后文中是否有对地质体进行标注\n20.主要：文中强调“主要”，“主要类型”\n21.重要：文中强调“重要”\n22.次要/次之：重要性次之\n23.部分：文中“部分”\n24.占：数值比例“占”\n25.多数：文中“多数”、“大多”、“很多”\n26.少数：文中“少数”、“少量”等数据量强调少，或者说明存在情况较少，如“有时”也用“少数”标签来替代\n27.大于：文中“大于”\n28.小于：文中“小于”\n29.一致：文中与····一致\n30.约：数值的大约\n31.仅/只有：强调仅在什么条件下\n32.超出：数值超出\n33.从：位置的起始以及数据数值的开始，具体岩体矿体起始。\n34.到/向：“到/向”为结尾时链接头。同时“向”一般与位置信息相连。\n35.—>：特殊符号，表示次序。一般用于排序的文本中。“→”等表示“转变”也用这个标签。“形态转变”也用这个标签。\n注意如果表示继承关系，递进关系也用这个标签。\n对于文中多个继承或者递进关系，用“包含”等标签来链接起始实体和结尾实体，用“—>”按顺序来链接各个实体。\n\n36.和：表示并列，与“—>”功能类似，链接一串语义表达。对于文中多个并列关系，用“包含”来链接起始实体和结尾实体，用“和”来链接各个实体。\n例：\n“矿石矿物有黄铁矿、黄铜矿、锡石、毒砂、磁黄铁矿、铁闪锌矿、磁铁矿、辉钼矿等,脉石矿物主要为钙铝榴石、钙铁榴石、透辉石、透闪石、方柱石、符山石、阳起石等(图5 - 7c 、f)。”\n抽取过程：\n“矿石矿物”——>\"包含\"——>“黄铁矿”\n“黄铁矿”——>“和”——>“黄铜矿”\n“黄铜矿”——>“和”——>“锡石”\n“锡石”——>“和”——>“毒砂”\n“毒砂”——>“和”——>“磁黄铁矿”\n“磁黄铁矿\"——>“和”——>“铁闪锌矿”\n“铁闪锌矿”——>“和”——>“磁铁矿”\n“磁铁矿”——>“和”——>“辉钼矿”\n“矿石矿物”——>\"包含\"——>“辉钼矿”\n37.以及：表示并列文中出现“以及”“及”等\n38.··相似··：文中“相似”\n39.与：文本中类似“和”的关系标签，表并列，具体文本中出现“与”\n40.与...比较：文中出现“比较”等\n41.与....有关：文中出现“有关”,“相关”等\n42.与··相伴：文中出现“相伴”\n43.接/临/相连：文中出现“与···相连”、“接”、“临”\n44.在：“在”一般为位置所在。\n45.以...为界：以什么为界，请用这个标签\n46.以...为中心：依据什么为中心\n47. ...之间（中）：文中“之间”“之中”\n48.之前：一般为时间先后顺序，事件发生“之前”。\n49.之后：时间先后顺序，事件发生“之后”\n50.非/无：表示否定的“无”“没有”主要在文中推理部分进行标注。\n51.可见/识别：文中“可见/识别”\n52.以...为例\n53.以...为条件/假设\n54.晚于：时间顺序\n55.早于：时间顺序\n56.距离：位置的距离，距离...远，距离...一定数值\n57.或：与或非的“或”\n58.靠近：与...距离较近\n59.远离：与...距离较远\n60.集中于：数值数据集中于，数值\n61.加权（数）：“加权平均数”\n62.平均值：“平均”数值\n63. ...的...：“的”标注重要的地质体的特征特点\n64.计算：计算\"参数\"\"数据\"，具体看文中提示\n65.过渡:化学状态过渡，岩石形态的过渡\n66.其余：文中“剩下的”“其余”\n67.通过：通过方式方法\n68.制作：实验处理，\n69.找寻：“寻找”“找寻”一般为找矿标志或者圈定找矿地带\n70.圈定：圈定找矿范围\n71.随着：“伴随”\n72.持续：状态持续，一般为动作的持续状态，和行为一起进行标注。\n73.利于：“有利于”等\n74.提供：“提供了”等\n75.拟合：数据拟合\n76.平行于：根据文中具体判断\n77.产于：产出于地点\n78.产出：产出矿物等\n79.分为：变量“分为”等\n80.分布于：分布状态，文中具体\n81.受控于：如形态的形成被什么所控制\n82.控制：特点，结构等控制矿物地质构造的形成等\n83.叠加在：文中具体“叠加”\n84.沿着：文中表示方位\n85.沿··展布/展开：根据文中\n86.···夹···：两中岩石夹杂\n87.延伸：延伸到\n88.相遇：水汽和热液相遇根据文本\n89.包围：根据文本具体来看“包围”\n90.围绕：“环绕\",“围绕”等\n91.充填：文中具体\n92.赋存：文中具体\n93.穿插：地质结构间穿插\n94.穿切：通“穿插”,通“交截”。\n95.富集：元素富集\n96.共生：文中具体矿物共生\n97.矿化：根据文中具体描述\n\"马拉格矿床以锡-铜矿为主，有不同程度的铅、锌、钨、钼、铍矿化(图5-2)。\"\n\"铅、锌、钨、钼、铍\"-->矿化-->\"马拉格矿床\"\n98.出露：矿床出露矿体出露\n99.隐伏：隐伏\n100.发育：岩石发育解离面等或文中出现\"发育\"\n101.迁移：文中“迁移”\n102.侵入：岩浆侵入等\n103.蚀变：蚀变文中具体蚀变内容如“隐伏花岗岩及其接触交代矽卡岩蚀变”，这里的蚀变为一个状态词\n104.伴生：注意与共生不同，看文中具体\n\n输出格式：\n/\n\"relations\":[{\"id\":1,\"from_id\":2,\"start_text\":\"个旧矿床\",\"to_id\":3,\"end_text\":\"花岗岩\",\"type\":\"发育\"},{\"id\":2,\"from_id\":3,\"start_text\":\"花岗岩\",\"to_id\":4,\"end_text\":\"深源花岗岩\",\"type\":\"包含\"}...]\n/\n合并格式：\n{\"id\":1,\"text\":\"第 3 章...\";\n\"entities\":[{\"id\":1,\"label\":\"矿床实例\",\"start_offset\":45,\"end_offset\":58,\"text\":\"个旧矿床\"},{\"id\":2,\"label\":\"岩石\",\"start_offset\":28,\"end_offset\":33,\"text\":\"花岗岩\"}...];\n\"relations\":[{\"id\":1,\"from_id\":2,\"start_text\":\"个旧矿床\",\"to_id\":3,\"end_text\":\"花岗岩\",\"type\":\"发育\"},{\"id\":2,\"from_id\":3,\"start_text\":\"花岗岩\",\"to_id\":4,\"end_text\":\"深源花岗岩\",\"type\":\"包含\"}...]}\n\nexample\ninput:\n{\"id\": 24, \"text\": \"总之，北炮台斑状 黑云母花岗岩老于贾沙石英二长岩，而老卡花岗岩具有较宽的年龄分布。\",\n \"entities\": [\n {\"id\": 2088, \"label\": \"岩石\", \"start_offset\": 3, \"end_offset\": 15,\"text\":\"北炮台斑状 黑云母花岗岩\"},\n {\"id\": 2090, \"label\": \"岩石\", \"start_offset\": 17, \"end_offset\": 24,\"text\":\"贾沙石英二长岩\"},\n {\"id\": 2092, \"label\": \"岩石\", \"start_offset\": 26, \"end_offset\": 31,\"text\":\"老卡花岗岩\"},\n {\"id\": 7773, \"label\": \"趋势、数据分布、程度、顺序\", \"start_offset\": 33, \"end_offset\": 35,\"text\":\"较宽\"}, \n {\"id\": 7774, \"label\": \"数据统计术语\", \"start_offset\": 36, \"end_offset\": 40,\"text\":\"年龄分布\"}]}\n\noutput:\n\"relations\": [\n{\"id\": 3759, \"from_id\": 2088,\"start_text\":\"北炮台斑状 黑云母花岗岩\", \"to_id\": 2090, \"end_text\":\"花岗岩\",\"type\": \"晚于\"}, \n{\"id\": 3760, \"from_id\": 2092,\"start_text\":\"老卡花岗岩\", \"to_id\": 7774,\"end_text\":\"年龄分布\", \"type\": \"具有\"}, \n{\"id\": 3761, \"from_id\": 7773, \"start_text\":\"较宽\",\"to_id\": 7774,\"end_text\":\"年龄分布\", \"type\": \"为\"}\n]\n\ninput\n{\n  \"id\": 10,\n  \"text\": \"五子山背斜是区内主要褶皱，贯穿全区，控制着岩浆岩的侵位和区内矿床的展布。\",\n  \"entities\": [\n    {\"id\": 1, \"label\": \"地质构造/结构\", \"start_offset\": 0, \"end_offset\": 5, \"text\": \"五子山背斜\"},\n    {\"id\": 2, \"label\": \"成/容/控矿构造\", \"start_offset\": 7, \"end_offset\": 9, \"text\": \"褶皱\"},\n    {\"id\": 3, \"label\": \"岩浆作用\", \"start_offset\": 20, \"end_offset\": 22, \"text\": \"侵位\"},\n    {\"id\": 4, \"label\": \"矿床\", \"start_offset\": 25, \"end_offset\": 27, \"text\": \"矿床\"}\n  ]\n}\noutput\n\"relations\":[\n  {\"id\":1,\"from_id\":1,\"start_text\":\"五子山背斜\",\"to_id\":2,\"end_text\":\"褶皱\",\"type\":\"为\"},\n  {\"id\":2,\"from_id\":1,\"start_text\":\"五子山背斜\",\"to_id\":2,\"end_text\":\"褶皱\",\"type\":\"主要\"},\n  {\"id\":3,\"from_id\":1,\"start_text\":\"五子山背斜\",\"to_id\":3,\"end_text\":\"侵位\",\"type\":\"控制\"},\n  {\"id\":4,\"from_id\":1,\"start_text\":\"五子山背斜\",\"to_id\":4,\"end_text\":\"矿床\",\"type\":\"控制\"}\n]\ninput：\n{\"id\": 25, \"text\": \"测温前将样品磨制成约0.3mm厚的包裹体测温片，然后在显微镜下观察样品的岩相特征，结合野外调查和光薄片鉴定确定结果，观察主矿物和包裹体特征。\", \n\"entities\": [\n{\"id\": 10578, \"label\": \"实验处理（样品）\", \"start_offset\": 6, \"end_offset\": 23 ,\"text\": \"磨制成约0.3mm厚的包裹体测温片\"}, \n{\"id\": 10579, \"label\": \"仪器设备\", \"start_offset\": 27, \"end_offset\": 30, \"text\": \"显微镜\"}, \n{\"id\": 10580, \"label\": \"实验处理（样品）\", \"start_offset\": 31, \"end_offset\": 40, \"text\": \"观察样品的岩相特征\"}, \n{\"id\": 10581, \"label\": \"实验处理（样品）\", \"start_offset\": 58, \"end_offset\": 69, \"text\": \"观察主矿物和包裹体特征\"}]\n}\noutput\n\"relations\": [\n{\"id\": 10482, \"from_id\": 10578,\"start_text\":\"磨制成约0.3mm厚的包裹体测温片\", \"to_id\": 10580,\"end_text\":\"观察样品的岩相特征\",\"type\": \"之后\"},\n {\"id\": 10483, \"from_id\": 10580, \"start_text\":\"观察样品的岩相特征\",\"to_id\": 10581,\"end_text\":\"观察主矿物和包裹体特征\",\"type\": \"之后\"}, \n{\"id\": 10487, \"from_id\": 10580,\"start_text\":\"观察样品的岩相特征\", \"to_id\": 10579,\"end_text\":\"显微镜\", \"type\": \"在\"}\n]\ninput：\n{\"id\": 17, \"text\": \"①内蚀变带：主要有钾化、钠化、云英岩化、电气石化、萤石化、锡石和黄铜矿化等(图9-2);②接触交代蚀变带：主要有石榴子石、透辉石矽卡岩化，萤石化，毒砂、磁黄铁矿、黄铜矿化等； ③外蚀变带：主要有赤铁矿化、褐铁矿化、菱铁矿-菱锰矿化、硫化物(闪锌矿、方铅矿化等)矿化、大理岩化等。\", \n\"entities\": [\n{\"id\": 5230, \"label\": \"图表\", \"start_offset\": 38, \"end_offset\": 42, \"text\": \"图9-2\"}, \n{\"id\": 8134, \"label\": \"矿化状态\", \"start_offset\": 9, \"end_offset\": 11, \"text\": \"钾化\"}, \n{\"id\": 8135, \"label\": \"矿化状态\", \"start_offset\": 12, \"end_offset\": 14, \"text\": \"钠化\"}, \n{\"id\": 8136, \"label\": \"矿化状态\", \"start_offset\": 15, \"end_offset\": 19, \"text\": \"云英岩化\"}, \n{\"id\": 8137, \"label\": \"矿化状态\", \"start_offset\": 20, \"end_offset\": 24, \"text\": \"电气石化\"}, \n{\"id\": 8138, \"label\": \"矿化状态\", \"start_offset\": 25, \"end_offset\": 28, \"text\": \"萤石化\"}, \n{\"id\": 8139, \"label\": \"矿化状态\", \"start_offset\": 29, \"end_offset\": 31, \"text\": \"锡石\"},\n{\"id\": 8140, \"label\": \"矿化状态\", \"start_offset\": 32, \"end_offset\": 36, \"text\": \"黄铜矿化\"}, \n{\"id\": 8141, \"label\": \"矿化状态\", \"start_offset\": 56, \"end_offset\": 60, \"text\": \"石榴子石\"},\n{\"id\": 8142, \"label\": \"矿化状态\", \"start_offset\": 61, \"end_offset\": 68, \"text\": \"透辉石矽卡岩化\"}, \n{\"id\": 8143, \"label\": \"矿化状态\", \"start_offset\": 69, \"end_offset\": 72, \"text\": \"萤石化\"},\n{\"id\": 8144, \"label\": \"矿化状态\", \"start_offset\": 73, \"end_offset\": 75, \"text\": \"毒砂\"}, \n{\"id\": 8145, \"label\": \"矿化状态\", \"start_offset\": 76, \"end_offset\": 80, \"text\": \"磁黄铁矿\"}, \n{\"id\": 8146, \"label\": \"矿化状态\", \"start_offset\": 81, \"end_offset\": 85, \"text\": \"黄铜矿化\"}, \n{\"id\": 8147, \"label\": \"矿化状态\", \"start_offset\": 97, \"end_offset\": 101, \"text\": \"赤铁矿化\"}, \n{\"id\": 8148, \"label\": \"矿化状态\", \"start_offset\": 102, \"end_offset\": 106, \"text\": \"褐铁矿化\"}, \n{\"id\": 8149, \"label\": \"矿化状态\", \"start_offset\": 107, \"end_offset\": 115, \"text\": \"菱铁矿-菱锰矿化\"}, {\"id\": 8151, \"label\": \"矿化状态\", \"start_offset\": 133, \"end_offset\": 137, \"text\": \"大理岩化\"}, \n{\"id\": 8152, \"label\": \"矿化状态\", \"start_offset\": 124, \"end_offset\": 128, \"text\": \"方铅矿化\"}, \n{\"id\": 8153, \"label\": \"矿化状态\", \"start_offset\": 116, \"end_offset\": 119, \"text\": \"硫化物\"}, \n{\"id\": 8154, \"label\": \"矿化状态\", \"start_offset\": 120, \"end_offset\": 123, \"text\": \"闪锌矿\"}, \n{\"id\": 8804, \"label\": \"岩石带\", \"start_offset\": 1, \"end_offset\": 5, \"text\": \"内蚀变带\"}, \n{\"id\": 8806, \"label\": \"岩石带\", \"start_offset\": 45, \"end_offset\": 52, \"text\": \"接触交代蚀变带\"}, \n{\"id\": 8808, \"label\": \"岩石带\", \"start_offset\": 89, \"end_offset\": 93, \"text\": \"外蚀变带\"}]}\noutput:\n \"relations\": [\n{\"id\": 5212, \"from_id\": 8134, \"start_text\": \"钾化\", \"to_id\": 8135, \"end_text\": \"钠化\", \"type\": \"和\"}, \n{\"id\": 5213, \"from_id\": 8135, \"start_text\": \"钠化\", \"to_id\": 8136, \"end_text\": \"云英岩化\", \"type\": \"和\"}, {\"id\": 5214, \"from_id\": 8136, \"start_text\": \"云英岩化\", \"to_id\": 8137, \"end_text\": \"电气石化\", \"type\": \"和\"}, \n{\"id\": 5215, \"from_id\": 8137, \"start_text\": \"电气石化\", \"to_id\": 8138, \"end_text\": \"萤石化\", \"type\": \"和\"},\n{\"id\": 5216, \"from_id\": 8138, \"start_text\": \"萤石化\", \"to_id\": 8139, \"end_text\": \"锡石\", \"type\": \"和\"}, {\"id\": 5217, \"from_id\": 8139, \"start_text\": \"锡石\", \"to_id\": 8140, \"end_text\": \"黄铜矿化\", \"type\": \"和\"}, {\"id\": 5218, \"from_id\": 8804, \"start_text\": \"内蚀变带\", \"to_id\": 5230, \"end_text\": \"图9-2\", \"type\": \"有\"}, \n{\"id\": 5219, \"from_id\": 8804, \"start_text\": \"内蚀变带\", \"to_id\": 8134, \"end_text\": \"钾化\", \"type\": \"包含\"}, \n{\"id\": 5220, \"from_id\": 8804, \"start_text\": \"内蚀变带\", \"to_id\": 8140, \"end_text\": \"黄铜矿化\", \"type\": \"包含\"}, \n{\"id\": 5221, \"from_id\": 8804, \"start_text\": \"内蚀变带\", \"to_id\": 8134, \"end_text\": \"钾化\", \"type\": \"主要\"}, \n{\"id\": 5222, \"from_id\": 8804, \"start_text\": \"内蚀变带\", \"to_id\": 8140, \"end_text\": \"黄铜矿化\", \"type\": \"主要\"}, \n{\"id\": 5224, \"from_id\": 8806, \"start_text\": \"接触交代蚀变带\", \"to_id\": 8141, \"end_text\": \"石榴子石\", \"type\": \"包含\"}, \n{\"id\": 5225, \"from_id\": 8141, \"start_text\": \"石榴子石\", \"to_id\": 8142, \"end_text\": \"透辉石矽卡岩化\", \"type\": \"和\"}, \n{\"id\": 5226, \"from_id\": 8142, \"start_text\": \"透辉石矽卡岩化\", \"to_id\": 8143, \"end_text\": \"萤石化\", \"type\": \"和\"}, \n{\"id\": 5227, \"from_id\": 8143, \"start_text\": \"萤石化\", \"to_id\": 8144, \"end_text\": \"毒砂\", \"type\": \"和\"}, {\"id\": 5228, \"from_id\": 8144, \"start_text\": \"毒砂\", \"to_id\": 8145, \"end_text\": \"磁黄铁矿\", \"type\": \"和\"}, {\"id\": 5229, \"from_id\": 8145, \"start_text\": \"磁黄铁矿\", \"to_id\": 8146, \"end_text\": \"黄铜矿化\", \"type\": \"和\"}, \n{\"id\": 5230, \"from_id\": 8806, \"start_text\": \"接触交代蚀变带\", \"to_id\": 8146, \"end_text\": \"黄铜矿化\", \"type\": \"包含\"}, \n{\"id\": 5232, \"from_id\": 8808, \"start_text\": \"外蚀变带\", \"to_id\": 8147, \"end_text\": \"赤铁矿化\", \"type\": \"包含\"}, \n{\"id\": 5233, \"from_id\": 8147, \"start_text\": \"赤铁矿化\", \"to_id\": 8148, \"end_text\": \"褐铁矿化\", \"type\": \"和\"}, \n{\"id\": 5234, \"from_id\": 8148, \"start_text\": \"褐铁矿化\", \"to_id\": 8149, \"end_text\": \"菱铁矿-菱锰矿化\", \"type\": \"和\"}, \n{\"id\": 5235, \"from_id\": 8149, \"start_text\": \"菱铁矿-菱锰矿化\", \"to_id\": 8153, \"end_text\": \"硫化物\", \"type\": \"和\"}, \n{\"id\": 5236, \"from_id\": 8153, \"start_text\": \"硫化物\", \"to_id\": 8151, \"end_text\": \"大理岩化\", \"type\": \"和\"}, \n{\"id\": 5237, \"from_id\": 8153, \"start_text\": \"硫化物\", \"to_id\": 8154, \"end_text\": \"闪锌矿\", \"type\": \"包含\"}, \n{\"id\": 5238, \"from_id\": 8153, \"start_text\": \"硫化物\", \"to_id\": 8152, \"end_text\": \"方铅矿化\", \"type\": \"包含\"}, \n{\"id\": 5239, \"from_id\": 8154, \"start_text\": \"闪锌矿\", \"to_id\": 8152, \"end_text\": \"方铅矿化\", \"type\": \"和\"}, \n{\"id\": 5240, \"from_id\": 8808, \"start_text\": \"外蚀变带\", \"to_id\": 8151, \"end_text\": \"大理岩化\", \"type\": \"包含\"}\n]\n请尽可能细致，关系抽取尽量按照语言逻辑进行抽取，抽取一段的逻辑关系，让实体都能相互连到一个节点上。\n对于不同句子的实体。请用第一句的实体与这个句子的主要实体以“包含\"关系进行链接。\n表明这一段有这个句子相关句意表示。最终每个实体都能至少从一个实体出发进行查询。\n注意实体和关系标签只能使用提供的，如果用一个关系难以表明两个实体间的关系，请用多个提供的关系进行表示。\n注意text中的表示程度的词“主要”，“其次”等也需要进行标注，可与“为”等其他标签一同标注。\n注意一定要将所有的实体标签让都能最终相互连到一个节点上。\n“图表”一定要与具体实体之间以“有”等关系标签进行相连。\n其他的实体标签根据具体情况与实体相连，仅能用提供的标签。\n“有时”等表示频次少的情况用“少数”关系标签替代，“交截”请用“接/临/相连”关系标签代替，不要出现与与提供的标签不一致的标签内容（请用提供的标签代替）。\n\n\n\n"
            }] + messages,
            temperature=0,
            max_tokens=4095,
            top_p=1,
            frequency_penalty=0,
            presence_penalty=0
        )
        print(response.choices[0].message)

        answer = response.choices[0].message.content
        combined_content = f"User Input: {json_content}\nResponse: {answer}"
        save_answer(combined_content, 'RE.txt')
        time.sleep(1)  # 等待一段时间，避免速率限制


if __name__ == "__main__":
    data = load_data(r'.\re-op.json')
    start_line = 0  # 从第 184 行开始
    process_data(data, start_line)
